# Test Pizza Bot

## Описание

Данный репозиторий реализует приложение для заказа пиццы через мессенджер Slack. Проект состоит из двух микросервисов, каждый из которых отвечает за свой функционал

Для запуска необходимо:
1. Запустить MongoDB без авторизации на дефолтном порте
2. Запустить RabbitMQ без авторизации на дефолтном порте

## Микросервис Бот

Этот микросервис отвечает за взаимодействие со слэком - установка бота в slack, общение с заказчиком, отправка уведомлений

В процессе взаимодействия с ботом, пользователь должен указать:
1. Название пиццы - команда **/name** 
2. Размер - команда **/size**
3. Тесто - команда **/dough**
4. Добавки - команда **/extra**
5. Адрес доставки - команда **/address**

После вызова всех команд, указанных выше, пользователю предлагается ввести комментарий к заказу с помощью команды **/comment** и подтвердить свой заказ с помощью команды **/accept**

Для запуска бота необходимо вызвать следующие команды:

```bash
cd bot
npm install
npm start
```

### **Известные проблемы**
1. Необходимо добавить ответную реакцию на команду **/accept**
2. Необходимо сделать возможность получения сообщений от менеджера через соответствующий микросервис
3. Бот крашится, при вызове команд в общих чатах
4. Бот неустойчив к перезапускам
5. Параметры микросервиса настраиваются не через файл конфигурации (к примеру, использовать .env)
6. Необходим рефакторинг index.ts

## Микросервис Кабинет Менеджера

Этот микросервис отвечает за работу с заказами. 
Реализация на Golang, исполняемый файл находится в **/manager/cmd**
Обычный сервер, реализующий REST API для взаимодействия с заказами через эндпоинты:
- **/order/create** - создание заказа при отправке POST запроса, в теле которого находится JSON с моделью заказа
- **/order/edit?id=<id_order>** - изменение заказа при указании в id - ID номер заказа и отправке POST запроса, в теле которого находится JSON с моделью заказа
- **/order/remove?id=<id_order>** - удаление заказа, имеющего id - ID номер заказа
- **/order/get?id=<id_order>** - получение информации о заказе, имеющего id - ID номер заказа
Получение данных от микросервиса Бот происходит посредством RabbitMQ

Для запуска микросервиса необходимо запустить **main.go**

### **Известные проблемы**
- [X] Необходимо реализовать эндпоинты для создания аккаунта менеджера, т.к. взаимодействие с заказами происходит с использованием JWT 
- [ ] Необходимо реализовать возможность связи с пользователем от имени бота в микросервисе Бот
- [ ] Необходимо добавить аутентификацию для MongoDB
- [ ] Параметры микросервиса настраиваются не через файл конфигурации (к примеру, использовать .env)
- [ ] Необходимо добавить адекватный обработчик ошибок

## Глобальные проблемы
1. Необходимо добавить frotend для данного проекта
2. Необходимо добавить скрипты для поднятия проекта через скрипт
3. Необходимо добавить возможность выбора портов для микросервиса пользователем